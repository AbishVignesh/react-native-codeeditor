{"version":3,"file":"index.js","sources":["node_modules/@babel/runtime/helpers/defineProperty.js","node_modules/@babel/runtime/helpers/objectSpread.js","node_modules/@babel/runtime/helpers/classCallCheck.js","node_modules/@babel/runtime/helpers/createClass.js","node_modules/@babel/runtime/helpers/typeof.js","node_modules/@babel/runtime/helpers/assertThisInitialized.js","node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","node_modules/@babel/runtime/helpers/getPrototypeOf.js","node_modules/@babel/runtime/helpers/superPropBase.js","node_modules/@babel/runtime/helpers/get.js","node_modules/@babel/runtime/helpers/setPrototypeOf.js","node_modules/@babel/runtime/helpers/inherits.js","node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","node_modules/@babel/runtime/helpers/iterableToArray.js","node_modules/@babel/runtime/helpers/nonIterableSpread.js","node_modules/@babel/runtime/helpers/toConsumableArray.js","node_modules/@actualwave/codemirror-package/index.js","source/view/utils.js","source/event/EventDeferred.js","source/event/DeferredRequest.js","source/event/EditorEvent.js","source/event/Request.js","source/view/BlockingView.js","source/view/BaseEditorView.js","source/view/CodeEditor.js"],"sourcesContent":["function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","var defineProperty = require(\"./defineProperty\");\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nmodule.exports = _objectSpread;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nvar superPropBase = require(\"./superPropBase\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","'use strict';\r\n\r\nconst moduleBundles = require('./assets/modules.json');\r\n\r\n/**\r\n *\r\n * @param {String} path\r\n * @returns {String[]}\r\n */\r\nconst pathToKeys = (path) => {\r\n  if (path === null || path === undefined) {\r\n    return [];\r\n  }\r\n\r\n  return String(path).replace(/(^\\/+|\\/+$)/g, '').split('/') || [];\r\n  // we know exactly that slash(not back-slash) will be used\r\n  // return String(path).replace(/(^[\\\\\\/]+|[\\\\\\/]+$)/g, '').match(/[^\\\\\\/]+/g) || [];\r\n};\r\n\r\n/**\r\n *\r\n * @param {String[]} keys\r\n * @returns {String}\r\n */\r\nconst keysToPath = (keys) => {\r\n  if (keys === null || keys === undefined) {\r\n    return '';\r\n  } else if (!(keys instanceof Array)) {\r\n    return String(keys);\r\n  }\r\n\r\n  return keys.join('/');\r\n};\r\n\r\n/**\r\n *\r\n * @param {String[]} keys\r\n * @param {Object} [target]\r\n * @param {Number} [index=0]\r\n * @returns {Object|String}\r\n */\r\nconst getBundleByKeys = (keys, target = moduleBundles, index = 0) => {\r\n  if (!keys || !target) {\r\n    return undefined;\r\n  }\r\n\r\n  const key = keys[index];\r\n  if (index < keys.length - 1) {\r\n    return getBundleByKeys(keys, target[key], index + 1);\r\n  }\r\n\r\n  return target[key];\r\n};\r\n\r\n/**\r\n *\r\n * @param {String} path\r\n * @param {Object} [target]\r\n */\r\nconst getBundle = (path, target = moduleBundles) => getBundleByKeys(pathToKeys(path), target);\r\n\r\n/**\r\n *\r\n * @param {String} path\r\n * @param {Object} [target]\r\n * @returns {Array}\r\n */\r\nconst getKeys = (path = '', target = moduleBundles) => {\r\n  const data = getBundle(path, target);\r\n  if (data && typeof(data) === 'object') {\r\n    return Object.keys(data);\r\n  }\r\n\r\n  return [];\r\n};\r\n\r\n/**\r\n *\r\n * @param {String} path\r\n * @param {Object} [target]\r\n * @param {Array} [list=[]]\r\n * @returns {String[]}\r\n */\r\nconst getPaths = (path, target = moduleBundles, list = []) => {\r\n  if (typeof(target) === 'object') {\r\n    Object.keys(target).map((key) => {\r\n      getPaths(path ? key : `${path}/${key}`, target[key], list);\r\n    });\r\n  } else if (target) {\r\n    list.push(path);\r\n  }\r\n\r\n  return list;\r\n};\r\n\r\n/**\r\n * @param {String[]} list\r\n * @param {Object} paths\r\n * @returns {Object}\r\n */\r\nconst prepareBlacklist = (list, paths = {}) => {\r\n  list.map((path) => (paths[path] = true));\r\n  return paths;\r\n};\r\n\r\n/**\r\n *\r\n * @param {String} key\r\n * @param {Object} target\r\n * @param {Object} [data={}]\r\n * @param {String} [basePath='']\r\n * @param {Object} [skipPaths={}]\r\n * @returns {Object}\r\n */\r\nconst getModulesFromBundle = (key, target, data = {}, basePath = '', skipPaths = {}) => {\r\n  if (!target) {\r\n    return data;\r\n  }\r\n\r\n  const path = basePath ? `${basePath}/${key}` : key;\r\n\r\n  if (typeof(target) === 'object') {\r\n    Object.keys(target).forEach((key) => getModulesFromBundle(key, target[key], data, path, skipPaths));\r\n  } else {\r\n    if (!skipPaths[path]) {\r\n      data[key] = (data[key] || '') + target;\r\n    }\r\n    skipPaths[path] = true;\r\n  }\r\n\r\n  return data;\r\n};\r\n\r\n/**\r\n *\r\n * @param {String} [basePath='']\r\n * @param {Object} [data={}]\r\n * @param {Object} [skipPaths={}]\r\n * @returns {Object}\r\n */\r\nconst getModulesByPath = (basePath = '', data = {}, skipPaths = {}) => {\r\n  const target = getBundle(basePath);\r\n  const key = basePath.match(/[^\\/]+$/)[0];\r\n\r\n  return getModulesFromBundle(\r\n    key,\r\n    target,\r\n    data,\r\n    basePath.substr(0, basePath.length - key.length - 1),\r\n    skipPaths\r\n  );\r\n};\r\n\r\n/**\r\n *\r\n * @param {String[]} paths\r\n * @param {Object} [data={}]\r\n * @param {Object} [skipPaths={}]\r\n * @returns {Object}\r\n */\r\nconst getModules = (paths, data = {}, skipPaths = {}) => {\r\n  paths\r\n    .filter((path, index) => paths.indexOf(path) === index)\r\n    .forEach((path) => getModulesByPath(path, data, skipPaths));\r\n  return data;\r\n};\r\n\r\nmodule.exports = exports = {\r\n  pathToKeys,\r\n  keysToPath,\r\n  getBundleByKeys,\r\n  getBundle,\r\n  getKeys,\r\n  getPaths,\r\n  prepareBlacklist,\r\n  getModulesFromBundle,\r\n  getModulesByPath,\r\n  getModules,\r\n  default: getModules,\r\n  __esModule: true,\r\n};\r\n\r\n//console.log(getModules(['addon/test/a', 'addon/test1/F', 'addon/test1/D', 'addon/test', 'addon/test1']));\r\n","import bundleEditorModules from '@actualwave/codemirror-package';\r\n\r\n// includes Page HTML + CodeMirror styles + CodeMirror JS\r\nconst EDITOR_TEMPLATE = ''; // inject('../assets/editor.html.tpl');\r\n\r\nconst BASE_MODULES = ['lib'];\r\n\r\nexport const generateEditorHtml = (modules) => {\r\n  const bundle = bundleEditorModules([\r\n    ...BASE_MODULES,\r\n    ...modules,\r\n  ]);\r\n  return EDITOR_TEMPLATE({\r\n    js: bundle.js,\r\n    css: bundle.css,\r\n  });\r\n};\r\n\r\nconst DEFAULT_SETTINGS = {\r\n  gutters: ['CodeMirror-linenumbers', 'CodeMirror-foldgutter'],\r\n  inputStyle: 'contenteditable',\r\n  styleActiveLine: true,\r\n  mode: 'jsx',\r\n};\r\n\r\nexport const generateInitScript = (editorSettings) => {\r\n  const settings = {\r\n    ...DEFAULT_SETTINGS,\r\n    ...editorSettings,\r\n  };\r\n  return `\r\n(function () {\r\n  runEditor(${JSON.stringify(settings, null, 2)});\r\n})();\r\n`\r\n};\r\n","class EventDeferred {\n  constructor(dispatcher, eventType) {\n    this.promise = new Promise((resolve, reject) => {\n      this._internals = {\n        dispatcher,\n        eventType,\n        resolve,\n        reject,\n        handler: (event) => {\n          const { resolve } = this._internals;\n          this.cancel();\n          resolve(event);\n        },\n      };\n    });\n    dispatcher.addEventListener(eventType, this._internals.handler);\n  }\n\n  get dispatcher() {\n    return this._internals.dispatcher;\n  }\n\n  get eventType() {\n    return this._internals.eventType;\n  }\n\n  get listening() {\n    return !this._internals.resolve;\n  }\n\n  cancel = () => {\n    const { dispatcher, eventType, handler } = this._internals;\n    dispatcher.removeEventListener(eventType, handler);\n    delete this._internals.resolve;\n  };\n\n  reject = (data = null) => {\n    const { reject } = this._internals;\n    this.cancel();\n    reject(data);\n  };\n\n  dispose = () => {\n    delete this._internals;\n  };\n}\n\nexport default EventDeferred;\n","import EventDeferred from './EventDeferred';\n\nclass DeferredRequest {\n  constructor(dispatcher, event, responseEventType, data = null) {\n    if (responseEventType) {\n      const deferred = new EventDeferred(dispatcher, responseEventType);\n      this.promise = deferred.promise;\n      this._internals = deferred;\n    } else {\n      this.promise = Promise.resolve();\n    }\n    dispatcher.dispatchEvent(event, data);\n  }\n\n  get listening() {\n    return this._internals && this._internals.listening || false;\n  }\n\n  cancel = () => {\n    this._internals && this._internals.cancel();\n  };\n\n  dispose = () => {\n    this._internals && this._internals.dispose();\n    delete this._internals;\n  };\n}\n\nexport const requestResolverFactory = (resolver) => (dispatcher) => (eventType, data = null) => {\n  const deferred = new DeferredRequest(dispatcher, eventType, resolver(eventType), data);\n  return deferred.promise;\n};\n\nexport default DeferredRequest;\n","export const EditorEvent = {\n  INIT: 'initialize',\n  HANDSHAKE: 'handshake',\n  SET_VALUE: 'setValue',\n  GET_VALUE: 'getValue',\n  HISTORY_UNDO: 'historyUndo',\n  HISTORY_REDO: 'historyRedo',\n  HISTORY_CLEAR: 'historyClear',\n  HISTORY_SIZE: 'historySize',\n  WV_GLOBAL_ERROR: 'wvGlobalError',\n  WV_LOG: 'wvLog',\n  SCROLL_TO_CURSOR: 'scrollToCursor',\n  UPDATE_SETTINGS: 'updateSettings',\n};\n\nexport const EditorResponseEvent = {\n  INIT_COMPLETE: 'initialized',\n  GET_VALUE_RESPONSE: 'getValueResponse',\n  HISTORY_UNDO_RESPONSE: 'historyUndoResponse',\n  HISTORY_REDO_RESPONSE: 'historyRedoResponse',\n  HISTORY_SIZE_RESPONSE: 'historySizeResponse',\n};\n\nexport const getResponseEvent = (eventType) => {\n  let responseType;\n  switch (eventType) {\n    case EditorEvent.HANDSHAKE: {\n      responseType = EditorResponseEvent.INIT_COMPLETE;\n      break;\n    }\n    case EditorEvent.GET_VALUE: {\n      responseType = EditorResponseEvent.GET_VALUE_RESPONSE;\n      break;\n    }\n    case EditorEvent.HISTORY_UNDO: {\n      responseType = EditorResponseEvent.HISTORY_UNDO_RESPONSE;\n      break;\n    }\n    case EditorEvent.HISTORY_REDO: {\n      responseType = EditorResponseEvent.HISTORY_REDO_RESPONSE;\n      break;\n    }\n    case EditorEvent.HISTORY_SIZE: {\n      responseType = EditorResponseEvent.HISTORY_SIZE_RESPONSE;\n      break;\n    }\n  }\n  return responseType;\n};\n\nexport default EditorEvent;\n","import EditorEvent from './EditorEvent';\n\nclass Request {\n  constructor(requestFactory) {\n    this.dispatch = (eventType, data = null) => {\n      return requestFactory(eventType, data)\n        .then((event) => (event && event.data));\n    };\n  }\n\n  setValue = (data) => {\n    return this.dispatch(EditorEvent.SET_VALUE, data);\n  };\n  getValue = (data) => {\n    return this.dispatch(EditorEvent.GET_VALUE, data);\n  };\n  historyUndo = (data) => {\n    return this.dispatch(EditorEvent.HISTORY_UNDO, data);\n  };\n  historyRedo = (data) => {\n    return this.dispatch(EditorEvent.HISTORY_REDO, data);\n  };\n  historyClear = (data) => {\n    return this.dispatch(EditorEvent.HISTORY_CLEAR, data);\n  };\n  historySize = (data) => {\n    return this.dispatch(EditorEvent.HISTORY_SIZE, data);\n  };\n  scrollToCursor = (margin) => {\n    return this.dispatch(EditorEvent.SCROLL_TO_CURSOR, margin);\n  };\n}\n\nexport default Request;\n","import React from 'react';\nimport { View, Text } from 'react-native';\n\nexport const BlockingView = () => {\n  return (\n    <View style={{\n      position: 'absolute',\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      backgroundColor: '#00000066',\n      justifyContent: 'center',\n      alignItems: 'center',\n    }}>\n      <Text style={{\n        color: '#fff',\n        fontSize: 12,\n      }}>\n        Initializing, please wait...\n      </Text>\n    </View>\n  );\n};\n\nconst renderBlockingView = () => (\n  <BlockingView />\n);\n\nexport default renderBlockingView;\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { View, WebView } from 'react-native';\r\nimport MessagePortDispatcher from '@actualwave/messageport-dispatcher';\r\nimport { requestResolverFactory } from '../event/DeferredRequest';\r\nimport { EditorEvent, getResponseEvent, } from '../event/EditorEvent';\r\nimport Request from '../event/Request';\r\nimport renderBlockingView from './BlockingView';\r\n\r\nconst clientFactory = requestResolverFactory(getResponseEvent);\r\nconst rawEvents = {\r\n  // FIXME don't really remember why I added this\r\n};\r\n\r\nMessagePortDispatcher.toJSON = (data) => JSON.stringify(data);\r\n\r\nclass BaseEditorView extends Component {\r\n\r\n  static propTypes = {\r\n    settings: PropTypes.object.isRequired,\r\n    onInitialized: PropTypes.func.isRequired,\r\n    consoleError: PropTypes.func,\r\n    consoleLog: PropTypes.func,\r\n    renderBlockingView: PropTypes.func,\r\n  };\r\n  static defaultProps = {\r\n    renderBlockingView,\r\n  };\r\n\r\n  webView = null;\r\n  dispatcher = null;\r\n  request = null;\r\n  onMessageListener = null;\r\n\r\n  state = {\r\n    initialized: false,\r\n  };\r\n\r\n  initializeWebView() {\r\n    this.dispatcher = new MessagePortDispatcher({\r\n      postMessage: (...args) => this.webView.postMessage(...args),\r\n      // TODO replace single listener assignment to multihandler\r\n      addEventListener: (type, listener) => this.onMessageListener = listener,\r\n    }, null, this.preprocessIncomingMessages);\r\n    /*\r\n     FIXME Might need Augmented Request with some simple actions not generating promises,\r\n     like historySize of you don't need promise with size.\r\n     */\r\n    this.request = new Request(clientFactory(this.dispatcher));\r\n    this.dispatcher.addEventListener(EditorEvent.INIT, () => this.onInitialize());\r\n    this.dispatcher.addEventListener(EditorEvent.WV_GLOBAL_ERROR, () => this.onWebViewGlobalError());\r\n    this.dispatcher.addEventListener(EditorEvent.WV_LOG, () => this.onWebViewLog());\r\n  }\r\n\r\n  preprocessIncomingMessages = (event) => {\r\n    const { data: eventData } = event;\r\n    if (!rawEvents[event.type]) {\r\n      if (eventData && typeof(eventData) === 'object') {\r\n        const { meta, data } = eventData;\r\n        if (meta) {\r\n          this.readMessageMetaData(meta);\r\n          event.data = data;\r\n        }\r\n      }\r\n    }\r\n    return event;\r\n  };\r\n\r\n  readMessageMetaData(meta) {\r\n    /* abstract */\r\n  }\r\n\r\n  onInitialize(content = '') {\r\n    this.request.dispatch(EditorEvent.HANDSHAKE, {\r\n      content,\r\n      //history: ...\r\n    }).then(() => this.onInitialized());\r\n  };\r\n\r\n  onInitialized() {\r\n    this.setState({ initialized: true }, () => {\r\n      this.props.onInitialized(this.request);\r\n    });\r\n  };\r\n\r\n  onWebViewLog(event) {\r\n    const { consoleLog } = this.props;\r\n    if (!consoleLog) {\r\n      return;\r\n    }\r\n\r\n    consoleLog('WebView:', ...event.data);\r\n  };\r\n\r\n  onWebViewGlobalError(event) {\r\n    const { consoleError } = this.props;\r\n    if (!consoleError) {\r\n      return;\r\n    }\r\n\r\n    const { data } = event;\r\n    let errorText;\r\n    if (data.error) {\r\n      const { name, message, fileName, lineNumber, columnNumber } = data.error;\r\n      errorText = `WebView ${name}: ${message}\\nSource: \"${fileName}\" ${lineNumber}:${columnNumber}`;\r\n    } else {\r\n      const { message, source, lineno, colno } = data;\r\n      errorText = `WebView: ${message}\\nSource: \"${source}\" ${lineno}:${colno}`;\r\n    }\r\n    this.props.consoleError(errorText);\r\n  };\r\n\r\n  handleWebViewReference = (webView) => {\r\n    this.webView = webView;\r\n    this.initializeWebView();\r\n  };\r\n\r\n  handleWebViewMessage = (event) => {\r\n    const { nativeEvent } = event;\r\n    if (this.onMessageListener) {\r\n      this.onMessageListener(nativeEvent);\r\n    }\r\n  };\r\n\r\n  renderBlockingView() {\r\n    let content = null;\r\n    if (!this.state.initialized) {\r\n      content = this.props.renderBlockingView();\r\n    }\r\n    return content;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <View\r\n        style={{ position: 'relative', flex: 1 }}\r\n      >\r\n        <WebView\r\n          ref={this.handleWebViewReference}\r\n          onMessage={this.handleWebViewMessage}\r\n          source={{\r\n            html: this.editorHtml,\r\n            baseUrl: this.editorBaseUrl,\r\n          }}\r\n          javaScriptEnabled={true}\r\n          injectedJavaScript={this.editorStartSequence}\r\n          style={{ flex: 1 }}\r\n        />\r\n        {this.renderBlockingView()}\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BaseEditorView;\r\n","import PropTypes from 'prop-types';\nimport { generateEditorHtml, generateInitScript } from './utils';\nimport BaseEditorView from './BaseEditorView';\nimport { EditorEvent, EditorResponseEvent } from '../event/EditorEvent';\n\nclass CodeEditor extends BaseEditorView {\n\n  static propTypes = {\n    ...BaseEditorView.propTypes,\n    onInitialized: PropTypes.func.isRequired,\n    onContentUpdate: PropTypes.func.isRequired,\n    onHistorySizeUpdate: PropTypes.func.isRequired,\n    modules: PropTypes.arrayOf(PropTypes.string),\n    settings: PropTypes.object,\n    content: PropTypes.string,\n  };\n  static defaultProps = {\n    modules: [],\n    settings: {},\n    ...BaseEditorView.defaultProps,\n    content: '',\n  };\n\n  currentContent = '';\n\n  componentWillMount() {\n    const { settings } = this.props;\n    this.sendUpdatedSettings(settings);\n  }\n\n  componentWillReceiveProps({ content, settings }) {\n    this.sendUpdatedContent(content);\n    this.sendUpdatedSettings(settings);\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return this.state.initialized !== nextState.initialized;\n  }\n\n  initializeWebView() {\n    super.initializeWebView();\n    this.dispatcher.addEventListener(EditorResponseEvent.GET_VALUE_RESPONSE, this.onGetValueResponse);\n  };\n\n  readMessageMetaData(meta) {\n    super.readMessageMetaData(meta);\n    const { historySize } = meta;\n    const { onHistorySizeUpdate } = this.props;\n    if (historySize && onHistorySizeUpdate) {\n      onHistorySizeUpdate(historySize);\n    }\n  };\n\n  onInitialize(content = '') {\n    console.log(' SUP onInitialize');\n    this.currentContent = content || this.props.content;\n    super.onInitialize(this.currentContent);\n  };\n\n  onGetValueResponse = (event) => {\n    const content = event.data;\n    this.currentContent = content;\n    this.props.onContentUpdate(content);\n  };\n\n  sendUpdatedContent(content, force) {\n    if (force || this.state.initialized && this.currentContent !== content) {\n      this.dispatcher.dispatchEvent(EditorEvent.SET_VALUE, content);\n      if (force) {\n        this.dispatcher.dispatchEvent(EditorEvent.HISTORY_CLEAR);\n      }\n      this.currentContent = content;\n    }\n  }\n\n  sendUpdatedSettings(props) {\n    if (this.state.initialized) {\n      this.dispatcher.dispatchEvent(EditorEvent.UPDATE_SETTINGS, props);\n    }\n  }\n\n  get editorHtml() {\n    const html = generateEditorHtml(this.props.modules);\n    return html;\n  }\n\n  get editorBaseUrl() {\n    return 'http://actualwave.com/';\n  }\n\n  get editorStartSequence() {\n    const script = generateInitScript(this.props.settings);\n    return script;\n  }\n}\n\nexport default CodeEditor;\n"],"names":["_typeof","EDITOR_TEMPLATE","BASE_MODULES","generateEditorHtml","modules","bundle","bundleEditorModules","js","css","DEFAULT_SETTINGS","gutters","inputStyle","styleActiveLine","mode","generateInitScript","editorSettings","settings","JSON","stringify","EventDeferred","dispatcher","eventType","cancel","_internals","handler","removeEventListener","resolve","reject","data","dispose","promise","Promise","event","addEventListener","DeferredRequest","responseEventType","deferred","dispatchEvent","listening","requestResolverFactory","resolver","EditorEvent","INIT","HANDSHAKE","SET_VALUE","GET_VALUE","HISTORY_UNDO","HISTORY_REDO","HISTORY_CLEAR","HISTORY_SIZE","WV_GLOBAL_ERROR","WV_LOG","SCROLL_TO_CURSOR","UPDATE_SETTINGS","EditorResponseEvent","INIT_COMPLETE","GET_VALUE_RESPONSE","HISTORY_UNDO_RESPONSE","HISTORY_REDO_RESPONSE","HISTORY_SIZE_RESPONSE","getResponseEvent","responseType","Request","requestFactory","setValue","dispatch","getValue","historyUndo","historyRedo","historyClear","historySize","scrollToCursor","margin","then","BlockingView","View","position","top","right","bottom","left","backgroundColor","justifyContent","alignItems","React","Text","color","fontSize","renderBlockingView","clientFactory","rawEvents","MessagePortDispatcher","toJSON","BaseEditorView","webView","request","onMessageListener","state","initialized","preprocessIncomingMessages","eventData","type","meta","readMessageMetaData","handleWebViewReference","initializeWebView","handleWebViewMessage","nativeEvent","postMessage","listener","onInitialize","onWebViewGlobalError","onWebViewLog","content","onInitialized","setState","props","consoleLog","consoleError","errorText","error","name","message","fileName","lineNumber","columnNumber","source","lineno","colno","flex","WebView","html","editorHtml","baseUrl","editorBaseUrl","editorStartSequence","Component","propTypes","PropTypes","object","isRequired","func","defaultProps","CodeEditor","currentContent","onGetValueResponse","onContentUpdate","sendUpdatedSettings","sendUpdatedContent","nextProps","nextState","_get","onHistorySizeUpdate","console","log","force","script","arrayOf","string"],"mappings":"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"}